# XPC3001: Prefer nameof over string literal for handler method

## Severity

Warning

## Description

This rule reports when a string literal is used as the handler method parameter in `RegisterStep<TEntity, TService>()` instead of `nameof()`. String literals don't provide compile-time verification that the method exists and prevent IDE refactoring support.

## ❌ Example of violation

```csharp
public class AccountPlugin : Plugin
{
    public AccountPlugin()
    {
        // XPC3001: Use 'nameof(IAccountService.HandleUpdate)' instead of string literal
        RegisterStep<Account, IAccountService>(
            EventOperation.Update,
            ExecutionStage.PostOperation,
            "HandleUpdate")  // String literal - no compile-time verification
            .AddFilteredAttributes(x => x.Name);
    }
}
```

## ✅ How to fix

Use `nameof()` to reference the handler method:

```csharp
public class AccountPlugin : Plugin
{
    public AccountPlugin()
    {
        RegisterStep<Account, IAccountService>(
            EventOperation.Update,
            ExecutionStage.PostOperation,
            nameof(IAccountService.HandleUpdate))  // Compile-time verified
            .AddFilteredAttributes(x => x.Name);
    }
}
```

## Why this matters

Using `nameof()` provides several benefits:

1. **Compile-time verification**: The compiler verifies the method exists on the service type
2. **Refactoring support**: Renaming the method automatically updates the reference
3. **IntelliSense**: IDE provides autocomplete for method names
4. **Reduced typos**: Eliminates the risk of misspelling method names

When images are registered with `WithPreImage()` or `WithPostImage()`, using `nameof()` is especially important because the source generator validates that the handler method signature matches the registered images.

## See also

- [XPC4001: Handler method not found](XPC4001.md)
- [XPC4002: Handler signature does not match registered images](XPC4002.md)
